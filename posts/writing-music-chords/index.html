<!DOCTYPE html>
<html lang="en-us" prefix="og: http://ogp.me/ns#" id="top-of-site">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no">

    <link rel="canonical" href="http://harshad.me/posts/writing-music-chords/">

    <title>Organizing Song chords - Harshad</title>
    <meta name="description" content="I often struggled to keep chords for songs I played in a handy place. For a couple of years I have been maintaining chords in a Google Doc. Given the forgetful …">
    <meta name="keywords" content="tech, jekyll">

    <meta name="author" content="">
    <meta name="generator" content="Hugo 0.104.3" />

    
    <link crossorigin="anonymous" href="/css/stylesheet.min.ddff76a17889e714853ced93d59096be3dca89927ec0e446c2d9c6b70da094a6.css" integrity="sha256-3f92oXiJ5xSFPO2T1ZCWvj3KiZJ+wORGwtnGtw2glKY=" rel="preload stylesheet" as="style">

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <link rel="manifest" type="application/manifest+json" href="/manifest.webmanifest" title="Manifest">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" title="Sitemap">
    <link rel="author" type="text/plain" href="/humans.txt" title="Humans">


    <meta name="theme-color" content="#ffffff">    
    <meta property="og:title" content="Organizing Song chords - Harshad">
    <meta property="og:description" content="I often struggled to keep chords for songs I played in a handy place. For a couple of years I have been maintaining chords in a Google Doc. Given the forgetful …">
    <meta property="og:type" content="article">
    <meta property="og:url" content="http://harshad.me/posts/writing-music-chords/">
    <meta property="og:image" content="http://harshad.me/img/open-graph-logo.png">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta property="article:published_time" content="2020-05-01T00:00:00">
    <meta property="article:modified_time" content="2020-05-01T00:00:00">
    <meta property="article:tag" content="tech">
    <meta property="article:tag" content="jekyll">
    
    <meta name="twitter:title" content="Organizing Song chords - Harshad">
    <meta name="twitter:description" content="I often struggled to keep chords for songs I played in a handy place. For a couple of years I have been maintaining chords in a Google Doc. Given the forgetful …">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="http://harshad.me/img/open-graph-logo.png">
    

<script type="application/ld+json" id="schema-data">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http://harshad.me/posts/writing-music-chords/"
        },
        "url": "http://harshad.me/posts/writing-music-chords/",
        "headline": "Organizing Song chords - Harshad",
        "description": "I often struggled to keep chords for songs I played in a handy place. For a couple of years I have been maintaining chords in a Google Doc. Given the forgetful …",
        "keywords": ["tech","jekyll"],
        "datePublished": "2020-05-01T00:00:00Z",
        "dateModified": "2020-05-01T00:00:00Z",
        "publisher": {
            "@type": "Organization",
            "name": "Harshad",
            "logo": {
                "@type": "ImageObject",
                "url": "http://harshad.me/img/open-graph-logo_hu649006a96c7f6a02c0a48e2d90a9a7b0_5229_96x96_resize_box_3.png",
                "width": "96",
                "height": "96"
            }
        }
    }
</script>



    <script src="/js/common.js"></script>
</head>

    <body class="theme-base-">
        <div id="top-of-site-anchor"></div>
        
            
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<aside class="sidebar" id="sidebar">
    <div class="sidebar-item">
        <p></p>
    </div>

    <nav class="sidebar-nav">
            <a class="sidebar-nav-item"
                href="/posts/"
                id="menu-main-posts">Posts</a>
            <a class="sidebar-nav-item"
                href="/music/"
                id="menu-main-music">Music</a>
            <a class="sidebar-nav-item"
                href="/contact/"
                id="menu-main-contact">Contact</a>
            <a class="sidebar-nav-item"
                href="/search/"
                id="menu-main-search">Search</a>
            <a class="sidebar-nav-item"
                href="/about/"
                id="menu-main-about">About</a>
        <span class="hypothesis-container">
    <a class="sidebar-nav-item" id="hypothesis-link" href="#">Annotate me</a>
</span>

    </nav>

    

</aside>

        
        <div class="wrap">
            <header class="masthead">
                <div class="container">
                    <h3 class="masthead-title">
                        <a href="/" title="Home">Harshad</a>
                        <br><small></small>
                    </h3>
                </div>
            </header>

            <main class="container content" id="main">
                <article class="post" role="document">
    <header>
        <h1 class="text-title">
            Organizing Song chords
        </h1>
        <p class="byline">
            
                


Published on
<time datetime="2020-05-01T00:00:00Z">
    May 01, 2020
</time>




            
        </p>
    </header>

    <div class="post-body">
        
<p>
I often struggled to keep chords for songs I played in a handy
place. For a couple of years I have been maintaining chords in a
Google Doc. Given the forgetful person that I&#39;m, storing all the
chords in one place has come as a blessing. Having all the chords in
one place has helped me to be more organized about my music. It has
helped me collaborate better with other musicians.</p>
<p>
However, using Google Docs for organizing chords has not since scaled
as I added more and more songs. Besides, I was maintaining all the
chords in one file. Maybe having individual files would have helped
the cause but it was nowhere close to what for example <a href="https://tabs.ultimate-guitar.com/tab/bryan-adams/summer-of-69-chords-843137">UltimateGuitar
provides</a>.</p>
<p>
I have since migrated all the chords from the google doc onto my
personal website where I write song chords in plain text format (in
org-mode files) and using Hugo&#39;s magic shortcodes to detect chords and
present them in a way such that it is easy to follow.</p>
<p>
This has worked wonders for me and this post is meant to give a high
level idea of how you can use <code class="verbatim">Hugo</code> shortcodes, to organize and
present chords for your songs!</p>
<div id="outline-container-headline-1" class="outline-3">
<h3 id="headline-1">
Hugo Short Code for Chords
</h3>
<div id="outline-text-headline-1" class="outline-text-3">
<p>
   I defined a new short code called <code class="verbatim">chords</code> to define the section
   of a post where song chords are found. What this shortcodee does is
   that it recognizes all the chords in its content using the
   following regular expression:</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[A-G][b#]?((b|maj|add|m|sus|dim|aug)*[0-9]*)*[^\\w]</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
Marking Chords in Markdown
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
I defined a new <code class="verbatim">&lt;chords&gt;</code> tag (note that this is not a HTML tag) as a way to
indicate that all the content following this tag should be rendered as
chords. This is ugly but it works for my usecase. Chords marker makes Liquid
templating language use a <code class="verbatim">&lt;pre&gt;</code> with a CSS class for all the content that
follows. As you will see in the following section, it&#39;s <strong><strong>critical</strong></strong> that you
use monospace font for rendering this =&lt;pre&gt;=formatted text in order to maintain
the mapping of where chords change according to lyrics.</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&lt;chords&gt;
</span></span><span style="display:flex;"><span>   I got my first real six-string,   Bought it at the five-and-dime</span></span></code></pre></div>
</div>
<p>
The next step is to write chords for the songs. I first place chords
just above the lyrics where the chords change and then annotate (and
differentiate) chords (from lyrics) by placing them in square
brackets.  Square brackets encountered after <code class="verbatim">&lt;chords&gt;</code> tag tell
Liquid templating language that these are chords and should have a
special css style assigned to it.</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>&lt;chords&gt;
</span></span><span style="display:flex;"><span>[D                                  A]
</span></span><span style="display:flex;"><span>   I got my first real six-string,   Bought it at the five-and-dime</span></span></code></pre></div>
</div>
<p>
Song sections (such as chorus, verse, prechorus) in the song use
<code class="verbatim">&lt;ctag&gt;&lt;/ctag&gt;</code> tag.</p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[D                              A]
</span></span><span style="display:flex;"><span>   Jimmy quit, Joey got married,   I shoulda known we&#39;d never get far
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>&lt;ctag&gt;Chorus&lt;/ctag&gt;
</span></span><span style="display:flex;"><span>[Bm             A              D                        G]
</span></span><span style="display:flex;"><span>    Oh, when I look back now,    That summer seemed to last forever</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
Liquid Templating to Render Chords
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
I then have following code in my layout file that renders chords.</p>
<p>
<strong>Note: In order to not confuse Liquid Templating used for this post, I
have left spaces between <code class="verbatim">{</code>, <code class="verbatim">}</code> and <code class="verbatim">%</code> characters.</strong></p>
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>    { % if page.categories contains &#34;chords&#34; % }
</span></span><span style="display:flex;"><span>      { % assign var content_split =  content | split:&#34;&lt;chords&gt;&#34; % }
</span></span><span style="display:flex;"><span>      { { content_split[0] } }
</span></span><span style="display:flex;"><span>      &lt;pre class=&#39;highlight&#39;&gt;{ { content_split[1] |
</span></span><span style="display:flex;"><span>        replace: &#34;[&#34;, &#34;&lt;span class=&#39;chords&#39;&gt;&#34; |
</span></span><span style="display:flex;"><span>        replace: &#34;]&#34;, &#34;&lt;/span&gt;&#34; |
</span></span><span style="display:flex;"><span>        replace: &#34;&lt;chords&gt;&#34;, &#34;&lt;pre class=&#39;highlight&#39;&gt;&#34; |
</span></span><span style="display:flex;"><span>        replace: &#34;&lt;ctag&gt;&#34;, &#34;&lt;span class=&#39;ctag&#39;&gt;&#34; |
</span></span><span style="display:flex;"><span>        replace: &#34;&lt;/ctag&gt;&#34;, &#34;&lt;/span&gt;&#34; } }&lt;/pre&gt;
</span></span><span style="display:flex;"><span>    { % else % }
</span></span><span style="display:flex;"><span>      { { content } }
</span></span><span style="display:flex;"><span>    { % endif % }</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
JS Tricks
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p>
I also have added a few Javascript tricks to implement some interesting
functions such as <code class="verbatim">Transpose</code> and <code class="verbatim">Auto-scroll</code> which I first found on
UltimateGuitar. These functions come very handy! For those who are interested
here&#39;s how the JS code for each look like. Just place these in the appropriate
location (right before the <code class="verbatim">{ { content_split[0] } }</code> line) in the above
template.</p>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
Auto-scroll
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>        window.scroll_state = 0;
</span></span><span style="display:flex;"><span>        function autoscroll() {
</span></span><span style="display:flex;"><span>          if (window.scroll_state == 0) {
</span></span><span style="display:flex;"><span>            scroll = setInterval(function() { window.scrollBy(0, 1);
</span></span><span style="display:flex;"><span>            console.log(&#39;start&#39;);}, 100);
</span></span><span style="display:flex;"><span>            window.scroll_state = 1;
</span></span><span style="display:flex;"><span>           } else {
</span></span><span style="display:flex;"><span>            window.scroll_state = 0;
</span></span><span style="display:flex;"><span>            clearInterval(scroll);
</span></span><span style="display:flex;"><span>            console.log(&#39;stop&#39;);
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>	&lt;button onclick=&#34;autoscroll();&#34;&gt;Autoscroll&lt;/button&gt;</span></span></code></pre></div>
</div>
</div>
</div>
<div id="outline-container-headline-6" class="outline-4">
<h4 id="headline-6">
Transpose
</h4>
<div id="outline-text-headline-6" class="outline-text-4">
<div class="src src-text">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>        function transpose(direction) {
</span></span><span style="display:flex;"><span>          var ele = document.getElementsByClassName(&#39;chords&#39;);
</span></span><span style="display:flex;"><span>          // 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12
</span></span><span style="display:flex;"><span>          // C,C#, D,D#, E, F,F#, G,G#, A,A#, B
</span></span><span style="display:flex;"><span>          for(var i=0;i&lt;ele.length;i++) {
</span></span><span style="display:flex;"><span>             var text  = ele[i].textContent;
</span></span><span style="display:flex;"><span>             if (direction == 1) {
</span></span><span style="display:flex;"><span>              text = text.replace(/C/g, &#34;##&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/D/g, &#34;####&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/E/g, &#34;######&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/F/g, &#34;#######&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/G/g, &#34;#########&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/A/g, &#34;###########&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/B/g, &#34;#&#34;);
</span></span><span style="display:flex;"><span>             } else {
</span></span><span style="display:flex;"><span>              text = text.replace(/C/g, &#34;############&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/D/g, &#34;##&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/E/g, &#34;####&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/F/g, &#34;#####&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/G/g, &#34;#######&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/A/g, &#34;#########&#34;);
</span></span><span style="display:flex;"><span>              text = text.replace(/B/g, &#34;###########&#34;);
</span></span><span style="display:flex;"><span>             }
</span></span><span style="display:flex;"><span>             text = text.replace(/#############/g, &#34;C&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/############/g, &#34;B&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/###########/g, &#34;AA&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/##########/g, &#34;A&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/#########/g, &#34;GG&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/########/g, &#34;G&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/#######/g, &#34;FF&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/######/g, &#34;F&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/#####/g, &#34;E&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/####/g, &#34;DD&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/###/g, &#34;D&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/##/g, &#34;CC&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/#/g, &#34;C&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/AA/g, &#34;A#&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/GG/g, &#34;G#&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/FF/g, &#34;F#&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/DD/g, &#34;D#&#34;);
</span></span><span style="display:flex;"><span>             text = text.replace(/CC/g, &#34;C#&#34;);
</span></span><span style="display:flex;"><span>             ele[i].textContent = text;
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      &lt;button onclick=&#34;transpose(1);&#34;&gt;+1&lt;/button&gt;
</span></span><span style="display:flex;"><span>      &lt;button onclick=&#34;transpose(0);&#34;&gt;-1&lt;/button&gt;</span></span></code></pre></div>
</div>
<p>
Have fun adding chords to your blog!


<style> .backlinks {  background-color: lightcyan; } </style>

</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-2">
<h2 id="headline-7">
Links to this note
</h2>
</div>

    </div>

    
    
        

<div class="tags-wrapper">
    <ul class="post-tags">
        <li>
                <a href="/tags/jekyll/">
                    jekyll
                </a>
            </li>
        <li>
                <a href="/tags/tech/">
                    tech
                </a>
            </li>
        
    </ul>
</div>

    
</article>

            </main>
        </div>

        <label for="sidebar-checkbox" class="sidebar-toggle"></label>

        <a href="#top-of-site" class="top-of-site-link" data-visible="false">
            <span class="screen-reader-text" aria-label="Back to top of the page">
                Back to top
            </span>
            <svg width="32" height="32" viewBox="0 0 100 100">
                <path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z"></path>
            </svg>
        </a>
    </body>
</html>
